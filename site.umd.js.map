{"version":3,"file":"site.umd.js","sources":["../src/custom-element.ts","../.tmp/site/code-example/code-example.element.ts","../.tmp/site/message/message.element.ts"],"sourcesContent":["export interface CustomElementMetadata {\n  tag?: string;\n  template?: string;\n  templateUrl?: string;\n  styleUrl?: string;\n  style?: string;\n}\n\nexport const CustomElement = (args: CustomElementMetadata) => {\n  return (target: any) => {\n    const toKebabCase = string => string.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/\\s+/g, '-').toLowerCase();\n    const tag: string = args.tag || toKebabCase(target.prototype.constructor.name);\n    const customElement: any = class extends (target as { new (): any }) {\n\n      static watchAttributes: {[key: string]: string};\n      props: {[key: string]: any} = {};\n      __connected: boolean = false;\n\n      static get observedAttributes() {\n        return Object.keys(this.watchAttributes || {});\n      }\n\n      constructor() {\n        super();\n        if(!this.shadowRoot){\n          this.attachShadow({ mode: 'open' });\n        }\n      }\n\n      attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n        const watchAttributes: { [key: string]: string } = (this.constructor as any).watchAttributes;\n        if (watchAttributes && watchAttributes[name] && oldValue != newValue) {\n          const methodToCall: string = watchAttributes[name];\n          this[methodToCall]({old: oldValue, new: newValue});\n        }\n      }\n\n      connectedCallback() {\n        this.__connected = true;\n        this.__render();\n        super.connectedCallback && super.connectedCallback();\n      }\n\n      __render() {\n        const template = document.createElement('template');\n        template.innerHTML = `\n          <style>${args.style ? args.style : ''}</style>\n          ${args.template ? args.template : ''}`;\n\n          this.shadowRoot.appendChild(document.importNode(template.content, true));\n      }\n    };\n\n    if(!customElements.get(tag)){\n      customElements.define(tag, customElement);\n    }\n    return customElement;\n  };\n};","import { CustomElement } from 'custom-elements-ts';\ndeclare var Prism;\n\n@CustomElement({\n  tag: 'cts-code-example',\n  template:'<div id=\"code\"></div>',\n  style: ':host{font-size:15px;padding:24px;display:block;overflow-x:auto;color:#bbb;max-height:500px}@media screen and (min-width: 1000px){:host{font-size:17px;padding:32px}}code[class*=\\\"language-\\\"]{color:#c5c8c6;text-shadow:0 1px rgba(0,0,0,0.3);font-family:Inconsolata, Monaco, Consolas, \\\"Courier New\\\", Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre{margin:0}pre[class*=\\\"language-\\\"]{color:#c5c8c6;text-shadow:0 1px rgba(0,0,0,0.3);font-family:Inconsolata, Monaco, Consolas, \\\"Courier New\\\", Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;overflow:auto;border-radius:0.3em}:not(pre)>code[class*=\\\"language-\\\"],pre[class*=\\\"language-\\\"]{background:#1d1f21}:not(pre)>code[class*=\\\"language-\\\"]{padding:.1em;border-radius:.3em}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#7C7C7C}.token.punctuation{color:#c5c8c6}.namespace{opacity:.7}.token.property,.token.keyword,.token.tag{color:#e06c75}.token.class-name{color:#FFFFB6;text-decoration:underline}.token.boolean,.token.constant{color:#99CC99}.token.symbol,.token.deleted{color:#f92672}.token.number{color:#FF73FD}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#A8FF60}.token.variable{color:#C6C5FE}.token.operator{color:#EDEDED}.token.entity{color:#FFFFB6}.token.url{color:#96CBFE}.language-css .token.string,.style .token.string{color:#87C38A}.token.atrule,.token.attr-value{color:#F9EE98}.token.function{color:#DAD085}.token.regex{color:#E9C062}.token.important{color:#fd971f;font-weight:bold}.token.bold{font-weight:bold}.token.italic{font-style:italic}.token.entity{cursor:help} '\n})\nexport class CodeExampleElement extends HTMLElement {\n  public code;\n  constructor() {\n    super();\n    const code = `\n// Typescript\nimport { CustomElement } from 'custom-elements-ts';\n\n@CustomElement({\n  tag: 'cts-message',\n  template: '<h1></h1>'\n  style: '' // css styles here or can use styleUrl\n})\nexport class MessageElement extends HTMLElement {\n\n  constructor() {\n    super();\n    this.addEventListener('click', () => {\n      alert('what are you waiting for?');\n    });\n  }\n\n  get message() {\n    return this.getAttribute('message');\n  }\n\n  set message(value) {\n    this.setAttribute('message', value);\n  }\n\n  connectedCallback(){\n    this.shadowRoot.querySelector('h1').innerHTML = this.message;\n  }\n}\n\n// HTML\n<cts-message message=\"npm install custom-elements-ts\"></cts-message>\n        `;\n      this.code = Prism.highlight(code, Prism.languages.javascript);\n  }\n\n  connectedCallback() {\n      this.shadowRoot.querySelector('#code').innerHTML = `<pre><code>${this.code}</code></pre>`;\n  }\n}","import { CustomElement } from 'custom-elements-ts';\n\n@CustomElement({\n  tag: 'cts-message',\n  template: '<h1></h1>',\n  style: `\n    :host {\n      margin: 0 auto;\n      margin-top: 50px;\n      display: block;\n      width: calc(100% - 50px);\n      text-align: center;\n      cursor: pointer;\n    }\n    h1 {\n      font-size: 14px;\n      margin: 0 auto;\n      padding: 20px;\n      background: #2e8edf;\n      color: whitesmoke;\n      border-radius: 3px;\n    }\n  `\n})\nexport class MessageElement extends HTMLElement {\n\n  constructor() {\n    super();\n    this.addEventListener('click', () => {\n      alert('what are you waiting for?');\n    });\n  }\n\n  get message() {\n    return this.getAttribute('message');\n  }\n\n  set message(value) {\n    this.setAttribute('message', value);\n  }\n\n  connectedCallback(){\n    this.shadowRoot.querySelector('h1').innerHTML = this.message;\n  }\n}"],"names":["tslib_1.__extends"],"mappings":"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"}